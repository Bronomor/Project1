// Usuwanie zmar≈Çych animalsow

//List<Animal> DeadAnimals = new ArrayList<>();

        //for (Animal animal : animals){
        //    if(animal.getEnergy() <= 0) {
        //        DeadAnimals.add(animal);
        //    }
        //}

        //for(Animal animal : DeadAnimals){
        //    animal.positionChanged(animal.getPosition(), null);
        //    animal.removeObserver(animal);
        //    animals.remove(animal);
        //}

        Iterator<Animal> iter = animals.iterator();
        while (iter.hasNext()) {
           Animal animal = iter.next();
            if(animal.getEnergy() <= 0) {
                animal.positionChanged(animal.getPosition(), null);
                animal.removeObserver(animal);
                iter.remove();
            }
        }


// funkcja move z animals

public void move(MoveDirection direction){
        Vector2d positionNew;
        switch(direction){
            case RIGHT:
                this.orientation = this.orientation.next();
                break;
            case LEFT:
                this.orientation = this.orientation.previous();
                break;
            case FORWARD:
                positionNew = this.position.add(orientation.toUnitVector());
                if(map.canMoveTo(positionNew)) {
                    this.positionChanged(this.position, positionNew);
                    position = positionNew;
                }
                break;
            case BACKWARD:
                positionNew = this.position.substract(orientation.toUnitVector());
                if(map.canMoveTo(positionNew)) {
                    this.positionChanged(this.position, positionNew);
                    position = positionNew;
                }
                break;
            default:
                break;
        }
    }